{"version":3,"file":"schema-widget.iife.js","sources":["../../../../../client/src/schema-templates.ts","../../../../../client/src/widget.ts","../../../../../client/src/telepath.ts","../../../../../client/src/index.ts"],"sourcesContent":["export interface SchemaTemplate {\n  type: string\n  label: string\n  labelJa: string\n  category:\n    | 'site-wide'\n    | 'content'\n    | 'business'\n    | 'interactive'\n    | 'events'\n    | 'people'\n    | 'specialized'\n  defaultOn?: boolean\n  helpText: string\n  helpTextJa: string\n  autoFields: AutoField[]\n  requiredFields: FieldDef[]\n  optionalFields: FieldDef[]\n  placeholder: Record<string, unknown>\n  example: Record<string, unknown>\n  exampleJa: Record<string, unknown>\n  googleDocsUrl: string\n}\n\nexport interface AutoField {\n  schemaProperty: string\n  source: string\n  description: string\n}\n\nexport interface FieldDef {\n  name: string\n  type: 'string' | 'number' | 'array' | 'object' | 'datetime'\n  description: string\n}\n\nexport const SCHEMA_TEMPLATES: Record<string, SchemaTemplate> = {\n  // ===================\n  // Site-wide schemas (default ON)\n  // ===================\n  WebSite: {\n    type: 'WebSite',\n    label: 'WebSite',\n    labelJa: 'ウェブサイト',\n    category: 'site-wide',\n    defaultOn: true,\n    helpText: 'Site information. Auto-populated from Site settings.',\n    helpTextJa: 'サイト情報。サイト設定から自動入力されます。',\n    autoFields: [\n      {\n        schemaProperty: 'name',\n        source: 'site.site_name',\n        description: 'Site name',\n      },\n      {\n        schemaProperty: 'url',\n        source: 'site.root_url',\n        description: 'Site URL',\n      },\n    ],\n    requiredFields: [],\n    optionalFields: [\n      {\n        name: 'potentialAction',\n        type: 'object',\n        description: 'SearchAction for sitelinks search box',\n      },\n    ],\n    placeholder: {\n      name: '(自動: サイト名)',\n      url: '(自動: サイトURL)',\n    },\n    example: {\n      potentialAction: {\n        '@type': 'SearchAction',\n        target: 'https://example.com/search?q={search_term_string}',\n      },\n    },\n    exampleJa: {\n      potentialAction: {\n        '@type': 'SearchAction',\n        target: 'https://example.co.jp/search?q={search_term_string}',\n      },\n    },\n    googleDocsUrl: 'https://schema.org/WebSite',\n  },\n\n  Organization: {\n    type: 'Organization',\n    label: 'Organization',\n    labelJa: '組織',\n    category: 'site-wide',\n    defaultOn: true,\n    helpText: 'Organization info. Auto-populated from SEO Settings.',\n    helpTextJa: '組織情報。SEO設定から自動入力されます。',\n    autoFields: [\n      {\n        schemaProperty: 'name',\n        source: 'settings.organization_name',\n        description: 'Org name',\n      },\n      {\n        schemaProperty: 'url',\n        source: 'site.root_url',\n        description: 'Website URL',\n      },\n      {\n        schemaProperty: 'logo',\n        source: 'settings.organization_logo',\n        description: 'Logo image',\n      },\n      {\n        schemaProperty: 'sameAs',\n        source: 'settings.social_profiles',\n        description: 'Social links',\n      },\n    ],\n    requiredFields: [],\n    optionalFields: [],\n    placeholder: {\n      name: '(自動: 組織名)',\n      url: '(自動: サイトURL)',\n      logo: '(自動: ロゴ画像)',\n      sameAs: '(自動: SNSリンク)',\n    },\n    example: {},\n    exampleJa: {},\n    googleDocsUrl:\n      'https://developers.google.com/search/docs/appearance/structured-data/organization',\n  },\n\n  BreadcrumbList: {\n    type: 'BreadcrumbList',\n    label: 'BreadcrumbList',\n    labelJa: 'パンくずリスト',\n    category: 'site-wide',\n    defaultOn: true,\n    helpText:\n      'Breadcrumb navigation. Fully auto-generated from page hierarchy.',\n    helpTextJa: 'パンくずナビ。ページ階層から完全自動生成されます。',\n    autoFields: [\n      {\n        schemaProperty: 'itemListElement',\n        source: 'page.get_ancestors()',\n        description: 'Breadcrumb items',\n      },\n    ],\n    requiredFields: [],\n    optionalFields: [],\n    placeholder: {\n      itemListElement: '(自動: ページ階層から生成)',\n    },\n    example: {},\n    exampleJa: {},\n    googleDocsUrl:\n      'https://developers.google.com/search/docs/appearance/structured-data/breadcrumb',\n  },\n\n  // ===================\n  // Content schemas\n  // ===================\n  WebPage: {\n    type: 'WebPage',\n    label: 'Web Page',\n    labelJa: 'ウェブページ',\n    category: 'content',\n    helpText: 'Generic web page. All properties auto-generated.',\n    helpTextJa: '一般的なウェブページ。すべてのプロパティは自動生成されます。',\n    autoFields: [\n      {\n        schemaProperty: 'name',\n        source: 'page.title',\n        description: 'Page title',\n      },\n      {\n        schemaProperty: 'description',\n        source: 'page.search_description',\n        description: 'Meta description',\n      },\n      {\n        schemaProperty: 'url',\n        source: 'page.full_url',\n        description: 'Page URL',\n      },\n    ],\n    requiredFields: [],\n    optionalFields: [],\n    placeholder: {},\n    example: {},\n    exampleJa: {},\n    googleDocsUrl: 'https://schema.org/WebPage',\n  },\n\n  Article: {\n    type: 'Article',\n    label: 'Article',\n    labelJa: '記事',\n    category: 'content',\n    helpText:\n      'General article. Use NewsArticle for news, BlogPosting for blogs.',\n    helpTextJa:\n      '一般的な記事。ニュースにはNewsArticle、ブログにはBlogPostingを使用。',\n    autoFields: [\n      {\n        schemaProperty: 'headline',\n        source: 'page.seo_title || page.title',\n        description: 'Article headline',\n      },\n      {\n        schemaProperty: 'author',\n        source: 'page.owner',\n        description: 'Author (Person)',\n      },\n      {\n        schemaProperty: 'datePublished',\n        source: 'page.first_published_at',\n        description: 'Publish date',\n      },\n      {\n        schemaProperty: 'dateModified',\n        source: 'page.last_published_at',\n        description: 'Last modified',\n      },\n      {\n        schemaProperty: 'image',\n        source: 'page.og_image',\n        description: 'Featured image',\n      },\n      {\n        schemaProperty: 'publisher',\n        source: 'settings.organization',\n        description: 'Publisher org',\n      },\n    ],\n    requiredFields: [],\n    optionalFields: [\n      {\n        name: 'articleSection',\n        type: 'string',\n        description: 'Article section/category',\n      },\n      { name: 'wordCount', type: 'number', description: 'Word count' },\n    ],\n    placeholder: {\n      articleSection: '',\n    },\n    example: { articleSection: 'Technology' },\n    exampleJa: { articleSection: 'テクノロジー' },\n    googleDocsUrl:\n      'https://developers.google.com/search/docs/appearance/structured-data/article',\n  },\n\n  NewsArticle: {\n    type: 'NewsArticle',\n    label: 'News Article',\n    labelJa: 'ニュース記事',\n    category: 'content',\n    helpText: 'News article. Enables Google News features.',\n    helpTextJa: 'ニュース記事。Googleニュース機能が有効になります。',\n    autoFields: [\n      {\n        schemaProperty: 'headline',\n        source: 'page.seo_title || page.title',\n        description: 'Article headline',\n      },\n      {\n        schemaProperty: 'author',\n        source: 'page.owner',\n        description: 'Author (Person)',\n      },\n      {\n        schemaProperty: 'datePublished',\n        source: 'page.first_published_at',\n        description: 'Publish date',\n      },\n      {\n        schemaProperty: 'dateModified',\n        source: 'page.last_published_at',\n        description: 'Last modified',\n      },\n      {\n        schemaProperty: 'image',\n        source: 'page.og_image',\n        description: 'Featured image',\n      },\n      {\n        schemaProperty: 'publisher',\n        source: 'settings.organization',\n        description: 'Publisher org',\n      },\n    ],\n    requiredFields: [],\n    optionalFields: [\n      {\n        name: 'dateline',\n        type: 'string',\n        description: 'News dateline location',\n      },\n    ],\n    placeholder: {\n      dateline: '',\n    },\n    example: { dateline: 'TOKYO' },\n    exampleJa: { dateline: '東京' },\n    googleDocsUrl:\n      'https://developers.google.com/search/docs/appearance/structured-data/article',\n  },\n\n  BlogPosting: {\n    type: 'BlogPosting',\n    label: 'Blog Post',\n    labelJa: 'ブログ記事',\n    category: 'content',\n    helpText: 'Blog post. Similar to Article but for blog content.',\n    helpTextJa: 'ブログ投稿。Articleと同様ですがブログコンテンツ向け。',\n    autoFields: [\n      {\n        schemaProperty: 'headline',\n        source: 'page.seo_title || page.title',\n        description: 'Post headline',\n      },\n      {\n        schemaProperty: 'author',\n        source: 'page.owner',\n        description: 'Author (Person)',\n      },\n      {\n        schemaProperty: 'datePublished',\n        source: 'page.first_published_at',\n        description: 'Publish date',\n      },\n      {\n        schemaProperty: 'dateModified',\n        source: 'page.last_published_at',\n        description: 'Last modified',\n      },\n      {\n        schemaProperty: 'image',\n        source: 'page.og_image',\n        description: 'Featured image',\n      },\n      {\n        schemaProperty: 'publisher',\n        source: 'settings.organization',\n        description: 'Publisher org',\n      },\n    ],\n    requiredFields: [],\n    optionalFields: [\n      { name: 'articleSection', type: 'string', description: 'Blog category' },\n      {\n        name: 'keywords',\n        type: 'string',\n        description: 'Comma-separated keywords',\n      },\n    ],\n    placeholder: {\n      articleSection: '',\n      keywords: '',\n    },\n    example: { articleSection: 'Tech Blog', keywords: 'wagtail, cms, python' },\n    exampleJa: { articleSection: '技術ブログ', keywords: 'Wagtail, CMS, Python, Web開発' },\n    googleDocsUrl:\n      'https://developers.google.com/search/docs/appearance/structured-data/article',\n  },\n\n  // ===================\n  // Business schemas\n  // ===================\n  Product: {\n    type: 'Product',\n    label: 'Product',\n    labelJa: '商品',\n    category: 'business',\n    helpText: 'Product with price/availability. Enables rich results.',\n    helpTextJa: '価格・在庫情報付き商品ページ。リッチリザルト対応。',\n    autoFields: [\n      {\n        schemaProperty: 'name',\n        source: 'page.title',\n        description: 'Product name',\n      },\n      {\n        schemaProperty: 'description',\n        source: 'page.search_description',\n        description: 'Description',\n      },\n      {\n        schemaProperty: 'image',\n        source: 'page.og_image',\n        description: 'Product image',\n      },\n    ],\n    requiredFields: [],\n    optionalFields: [\n      { name: 'offers', type: 'object', description: 'Price and availability' },\n      { name: 'brand', type: 'string', description: 'Brand name' },\n      { name: 'sku', type: 'string', description: 'Product SKU' },\n      { name: 'gtin', type: 'string', description: 'Global Trade Item Number' },\n    ],\n    placeholder: {\n      offers: {\n        '@type': 'Offer',\n        price: '',\n        priceCurrency: 'USD',\n        availability: 'https://schema.org/InStock',\n        url: '',\n      },\n      brand: '',\n      sku: '',\n      gtin: '',\n      aggregateRating: {\n        '@type': 'AggregateRating',\n        ratingValue: '',\n        reviewCount: '',\n      },\n      review: [],\n    },\n    example: {\n      offers: {\n        '@type': 'Offer',\n        price: '29.99',\n        priceCurrency: 'USD',\n        availability: 'https://schema.org/InStock',\n        url: 'https://example.com/products/wireless-earbuds',\n      },\n      brand: 'TechBrand',\n      sku: 'WE-2024-001',\n      gtin: '012345678905',\n      aggregateRating: {\n        '@type': 'AggregateRating',\n        ratingValue: '4.5',\n        reviewCount: '128',\n      },\n    },\n    exampleJa: {\n      offers: {\n        '@type': 'Offer',\n        price: '3980',\n        priceCurrency: 'JPY',\n        availability: 'https://schema.org/InStock',\n        url: 'https://example.co.jp/products/wireless-earbuds',\n      },\n      brand: 'サンプルブランド',\n      sku: 'WE-2024-001',\n      gtin: '4901234567890',\n      aggregateRating: {\n        '@type': 'AggregateRating',\n        ratingValue: '4.3',\n        reviewCount: '156',\n      },\n    },\n    googleDocsUrl:\n      'https://developers.google.com/search/docs/appearance/structured-data/product',\n  },\n\n  LocalBusiness: {\n    type: 'LocalBusiness',\n    label: 'Local Business',\n    labelJa: 'ローカルビジネス',\n    category: 'business',\n    helpText: 'Local business with address and hours. Great for local SEO.',\n    helpTextJa: '住所・営業時間付きローカルビジネス。ローカルSEOに効果的。',\n    autoFields: [\n      {\n        schemaProperty: 'name',\n        source: 'page.title',\n        description: 'Business name',\n      },\n      {\n        schemaProperty: 'description',\n        source: 'page.search_description',\n        description: 'Description',\n      },\n      {\n        schemaProperty: 'image',\n        source: 'page.og_image',\n        description: 'Business image',\n      },\n    ],\n    requiredFields: [\n      { name: 'address', type: 'object', description: 'PostalAddress object' },\n    ],\n    optionalFields: [\n      { name: 'telephone', type: 'string', description: 'Phone number' },\n      {\n        name: 'openingHoursSpecification',\n        type: 'array',\n        description: 'Business hours',\n      },\n      {\n        name: 'priceRange',\n        type: 'string',\n        description: 'Price range (e.g., $$)',\n      },\n      { name: 'geo', type: 'object', description: 'GeoCoordinates' },\n    ],\n    placeholder: {\n      address: {\n        '@type': 'PostalAddress',\n        streetAddress: '',\n        addressLocality: '',\n        addressRegion: '',\n        postalCode: '',\n        addressCountry: 'US',\n      },\n      telephone: '',\n      priceRange: '',\n      openingHoursSpecification: [],\n      geo: {\n        '@type': 'GeoCoordinates',\n        latitude: '',\n        longitude: '',\n      },\n    },\n    example: {\n      address: {\n        '@type': 'PostalAddress',\n        streetAddress: '123 Main Street, Suite 100',\n        addressLocality: 'San Francisco',\n        addressRegion: 'CA',\n        postalCode: '94102',\n        addressCountry: 'US',\n      },\n      telephone: '+1-415-555-1234',\n      priceRange: '$$',\n      geo: {\n        '@type': 'GeoCoordinates',\n        latitude: '37.7749',\n        longitude: '-122.4194',\n      },\n      openingHoursSpecification: [\n        {\n          '@type': 'OpeningHoursSpecification',\n          dayOfWeek: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'],\n          opens: '09:00',\n          closes: '18:00',\n        },\n        {\n          '@type': 'OpeningHoursSpecification',\n          dayOfWeek: ['Saturday'],\n          opens: '10:00',\n          closes: '15:00',\n        },\n      ],\n    },\n    exampleJa: {\n      address: {\n        '@type': 'PostalAddress',\n        streetAddress: '渋谷1-1-1 渋谷ビル3F',\n        addressLocality: '渋谷区',\n        addressRegion: '東京都',\n        postalCode: '150-0002',\n        addressCountry: 'JP',\n      },\n      telephone: '03-1234-5678',\n      priceRange: '¥¥',\n      geo: {\n        '@type': 'GeoCoordinates',\n        latitude: '35.6595',\n        longitude: '139.7004',\n      },\n      openingHoursSpecification: [\n        {\n          '@type': 'OpeningHoursSpecification',\n          dayOfWeek: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'],\n          opens: '10:00',\n          closes: '19:00',\n        },\n        {\n          '@type': 'OpeningHoursSpecification',\n          dayOfWeek: ['Saturday', 'Sunday'],\n          opens: '11:00',\n          closes: '18:00',\n        },\n      ],\n    },\n    googleDocsUrl:\n      'https://developers.google.com/search/docs/appearance/structured-data/local-business',\n  },\n\n  Service: {\n    type: 'Service',\n    label: 'Service',\n    labelJa: 'サービス',\n    category: 'business',\n    helpText: 'Service offering. Describe what services you provide.',\n    helpTextJa: 'サービス提供。提供サービスの説明に使用。',\n    autoFields: [\n      {\n        schemaProperty: 'name',\n        source: 'page.title',\n        description: 'Service name',\n      },\n      {\n        schemaProperty: 'description',\n        source: 'page.search_description',\n        description: 'Description',\n      },\n      {\n        schemaProperty: 'provider',\n        source: 'settings.organization',\n        description: 'Provider',\n      },\n    ],\n    requiredFields: [],\n    optionalFields: [\n      { name: 'serviceType', type: 'string', description: 'Type of service' },\n      { name: 'areaServed', type: 'string', description: 'Service area' },\n      { name: 'offers', type: 'object', description: 'Service pricing' },\n    ],\n    placeholder: {\n      serviceType: '',\n      areaServed: '',\n      offers: {\n        '@type': 'Offer',\n        price: '',\n        priceCurrency: 'USD',\n      },\n      aggregateRating: {\n        '@type': 'AggregateRating',\n        ratingValue: '',\n        reviewCount: '',\n      },\n      hoursAvailable: '',\n      brand: '',\n    },\n    example: {\n      serviceType: 'Web Development',\n      areaServed: 'San Francisco Bay Area',\n      offers: {\n        '@type': 'Offer',\n        price: '5000',\n        priceCurrency: 'USD',\n      },\n      aggregateRating: {\n        '@type': 'AggregateRating',\n        ratingValue: '4.8',\n        reviewCount: '156',\n      },\n    },\n    exampleJa: {\n      serviceType: 'Webサイト制作',\n      areaServed: '東京都、神奈川県、埼玉県、千葉県',\n      offers: {\n        '@type': 'Offer',\n        price: '300000',\n        priceCurrency: 'JPY',\n      },\n      aggregateRating: {\n        '@type': 'AggregateRating',\n        ratingValue: '4.7',\n        reviewCount: '89',\n      },\n    },\n    googleDocsUrl: 'https://schema.org/Service',\n  },\n\n  // ===================\n  // Interactive schemas\n  // ===================\n  FAQPage: {\n    type: 'FAQPage',\n    label: 'FAQ Page',\n    labelJa: 'FAQページ',\n    category: 'interactive',\n    helpText: 'FAQ with expandable Q&A. High visibility in search.',\n    helpTextJa: 'Q&A形式のFAQページ。検索結果で高い視認性。',\n    autoFields: [],\n    requiredFields: [\n      {\n        name: 'mainEntity',\n        type: 'array',\n        description: 'Array of Question objects',\n      },\n    ],\n    optionalFields: [],\n    placeholder: {\n      mainEntity: [\n        {\n          '@type': 'Question',\n          name: '',\n          acceptedAnswer: { '@type': 'Answer', text: '' },\n        },\n        {\n          '@type': 'Question',\n          name: '',\n          acceptedAnswer: { '@type': 'Answer', text: '' },\n        },\n      ],\n    },\n    example: {\n      mainEntity: [\n        {\n          '@type': 'Question',\n          name: 'What is wagtail-herald?',\n          acceptedAnswer: {\n            '@type': 'Answer',\n            text: 'A comprehensive SEO toolkit for Wagtail CMS.',\n          },\n        },\n        {\n          '@type': 'Question',\n          name: 'How do I install it?',\n          acceptedAnswer: {\n            '@type': 'Answer',\n            text: 'Run pip install wagtail-herald and add to INSTALLED_APPS.',\n          },\n        },\n      ],\n    },\n    exampleJa: {\n      mainEntity: [\n        {\n          '@type': 'Question',\n          name: '送料はいくらですか？',\n          acceptedAnswer: {\n            '@type': 'Answer',\n            text: '全国一律550円（税込）です。5,000円以上のご購入で送料無料となります。',\n          },\n        },\n        {\n          '@type': 'Question',\n          name: '返品・交換はできますか？',\n          acceptedAnswer: {\n            '@type': 'Answer',\n            text: '商品到着後7日以内であれば、未開封・未使用の商品に限り返品・交換を承ります。',\n          },\n        },\n        {\n          '@type': 'Question',\n          name: '支払い方法は何がありますか？',\n          acceptedAnswer: {\n            '@type': 'Answer',\n            text: 'クレジットカード、銀行振込、代金引換、コンビニ決済がご利用いただけます。',\n          },\n        },\n      ],\n    },\n    googleDocsUrl:\n      'https://developers.google.com/search/docs/appearance/structured-data/faqpage',\n  },\n\n  HowTo: {\n    type: 'HowTo',\n    label: 'How-To',\n    labelJa: 'ハウツー',\n    category: 'interactive',\n    helpText: 'Step-by-step instructions. (Note: Rich results deprecated Sep 2023)',\n    helpTextJa: 'ステップバイステップの手順。(※2023年9月リッチリザルト廃止)',\n    autoFields: [\n      {\n        schemaProperty: 'name',\n        source: 'page.title',\n        description: 'How-to title',\n      },\n      {\n        schemaProperty: 'description',\n        source: 'page.search_description',\n        description: 'Description',\n      },\n      {\n        schemaProperty: 'image',\n        source: 'page.og_image',\n        description: 'Main image',\n      },\n    ],\n    requiredFields: [\n      { name: 'step', type: 'array', description: 'Array of HowToStep' },\n    ],\n    optionalFields: [\n      {\n        name: 'totalTime',\n        type: 'string',\n        description: 'ISO 8601 duration (e.g., PT30M)',\n      },\n      { name: 'estimatedCost', type: 'object', description: 'MonetaryAmount' },\n      { name: 'supply', type: 'array', description: 'Required supplies' },\n      { name: 'tool', type: 'array', description: 'Required tools' },\n    ],\n    placeholder: {\n      step: [\n        {\n          '@type': 'HowToStep',\n          name: '',\n          text: '',\n        },\n        {\n          '@type': 'HowToStep',\n          name: '',\n          text: '',\n        },\n      ],\n      totalTime: '',\n      estimatedCost: {\n        '@type': 'MonetaryAmount',\n        currency: 'USD',\n        value: '',\n      },\n      supply: [],\n      tool: [],\n    },\n    example: {\n      step: [\n        {\n          '@type': 'HowToStep',\n          name: 'Install',\n          text: 'pip install wagtail-herald',\n        },\n        {\n          '@type': 'HowToStep',\n          name: 'Configure',\n          text: 'Add to INSTALLED_APPS',\n        },\n      ],\n      totalTime: 'PT10M',\n    },\n    exampleJa: {\n      step: [\n        {\n          '@type': 'HowToStep',\n          name: '材料を準備する',\n          text: '必要な材料をすべて計量し、室温に戻しておきます。',\n        },\n        {\n          '@type': 'HowToStep',\n          name: '生地を作る',\n          text: 'ボウルに粉類を入れ、よく混ぜ合わせます。',\n        },\n        {\n          '@type': 'HowToStep',\n          name: '焼き上げる',\n          text: '180度に予熱したオーブンで30分焼きます。',\n        },\n      ],\n      totalTime: 'PT45M',\n      estimatedCost: {\n        '@type': 'MonetaryAmount',\n        currency: 'JPY',\n        value: '500',\n      },\n    },\n    googleDocsUrl:\n      'https://developers.google.com/search/docs/appearance/structured-data/how-to',\n  },\n\n  // ===================\n  // Events schema\n  // ===================\n  Event: {\n    type: 'Event',\n    label: 'Event',\n    labelJa: 'イベント',\n    category: 'events',\n    helpText: 'Event with date, location, and tickets. Shows in Google Events.',\n    helpTextJa: '日時・場所・チケット情報付きイベント。Googleイベントに表示。',\n    autoFields: [\n      {\n        schemaProperty: 'name',\n        source: 'page.title',\n        description: 'Event name',\n      },\n      {\n        schemaProperty: 'description',\n        source: 'page.search_description',\n        description: 'Description',\n      },\n      {\n        schemaProperty: 'image',\n        source: 'page.og_image',\n        description: 'Event image',\n      },\n    ],\n    requiredFields: [\n      {\n        name: 'startDate',\n        type: 'datetime',\n        description: 'Event start date/time',\n      },\n      {\n        name: 'location',\n        type: 'object',\n        description: 'Place or VirtualLocation',\n      },\n    ],\n    optionalFields: [\n      { name: 'endDate', type: 'datetime', description: 'Event end date/time' },\n      {\n        name: 'eventStatus',\n        type: 'string',\n        description: 'EventScheduled, EventCancelled, etc.',\n      },\n      {\n        name: 'eventAttendanceMode',\n        type: 'string',\n        description: 'Online, Offline, Mixed',\n      },\n      { name: 'offers', type: 'object', description: 'Ticket information' },\n      {\n        name: 'performer',\n        type: 'object',\n        description: 'Person or Organization',\n      },\n      {\n        name: 'organizer',\n        type: 'object',\n        description: 'Person or Organization',\n      },\n    ],\n    placeholder: {\n      startDate: '',\n      endDate: '',\n      location: {\n        '@type': 'Place',\n        name: '',\n        address: {\n          '@type': 'PostalAddress',\n          streetAddress: '',\n          addressLocality: '',\n          addressCountry: 'US',\n        },\n      },\n      eventStatus: 'https://schema.org/EventScheduled',\n      eventAttendanceMode: 'https://schema.org/OfflineEventAttendanceMode',\n      offers: {\n        '@type': 'Offer',\n        price: '',\n        priceCurrency: 'USD',\n        availability: 'https://schema.org/InStock',\n        url: '',\n      },\n      performer: {\n        '@type': 'Person',\n        name: '',\n      },\n      organizer: {\n        '@type': 'Organization',\n        name: '',\n      },\n    },\n    example: {\n      startDate: '2025-03-15T19:00:00-08:00',\n      endDate: '2025-03-15T21:00:00-08:00',\n      location: {\n        '@type': 'Place',\n        name: 'Moscone Center',\n        address: {\n          '@type': 'PostalAddress',\n          streetAddress: '747 Howard St',\n          addressLocality: 'San Francisco',\n          addressRegion: 'CA',\n          postalCode: '94103',\n          addressCountry: 'US',\n        },\n      },\n      eventStatus: 'https://schema.org/EventScheduled',\n      eventAttendanceMode: 'https://schema.org/OfflineEventAttendanceMode',\n    },\n    exampleJa: {\n      startDate: '2025-04-20T14:00:00+09:00',\n      endDate: '2025-04-20T17:00:00+09:00',\n      location: {\n        '@type': 'Place',\n        name: '東京国際フォーラム ホールA',\n        address: {\n          '@type': 'PostalAddress',\n          streetAddress: '丸の内3-5-1',\n          addressLocality: '千代田区',\n          addressRegion: '東京都',\n          postalCode: '100-0005',\n          addressCountry: 'JP',\n        },\n      },\n      eventStatus: 'https://schema.org/EventScheduled',\n      eventAttendanceMode: 'https://schema.org/OfflineEventAttendanceMode',\n      offers: {\n        '@type': 'Offer',\n        price: '5000',\n        priceCurrency: 'JPY',\n        availability: 'https://schema.org/InStock',\n        url: 'https://example.co.jp/events/spring-concert/tickets',\n        validFrom: '2025-02-01T10:00:00+09:00',\n      },\n      performer: {\n        '@type': 'Person',\n        name: '山田太郎',\n      },\n      organizer: {\n        '@type': 'Organization',\n        name: '株式会社サンプルイベント',\n        url: 'https://example.co.jp',\n      },\n    },\n    googleDocsUrl:\n      'https://developers.google.com/search/docs/appearance/structured-data/event',\n  },\n\n  // ===================\n  // People schema\n  // ===================\n  Person: {\n    type: 'Person',\n    label: 'Person',\n    labelJa: '人物',\n    category: 'people',\n    helpText: 'Person profile. Useful for author pages and team members.',\n    helpTextJa: '人物プロフィール。著者ページやチームメンバーに有用。',\n    autoFields: [\n      {\n        schemaProperty: 'name',\n        source: 'page.title',\n        description: 'Person name',\n      },\n      {\n        schemaProperty: 'description',\n        source: 'page.search_description',\n        description: 'Bio',\n      },\n      {\n        schemaProperty: 'image',\n        source: 'page.og_image',\n        description: 'Photo',\n      },\n    ],\n    requiredFields: [],\n    optionalFields: [\n      { name: 'jobTitle', type: 'string', description: 'Job title' },\n      { name: 'worksFor', type: 'object', description: 'Organization' },\n      { name: 'email', type: 'string', description: 'Email address' },\n      { name: 'sameAs', type: 'array', description: 'Social profile URLs' },\n      {\n        name: 'alumniOf',\n        type: 'object',\n        description: 'Educational organization',\n      },\n    ],\n    placeholder: {\n      jobTitle: '',\n      worksFor: { '@type': 'Organization', name: '' },\n      email: '',\n      url: '',\n      sameAs: [],\n      alumniOf: { '@type': 'EducationalOrganization', name: '' },\n      knowsAbout: [],\n      award: [],\n    },\n    example: {\n      jobTitle: 'Senior Software Engineer',\n      worksFor: { '@type': 'Organization', name: 'TechCorp Inc.' },\n      url: 'https://example.com/team/jane-smith',\n      sameAs: [\n        'https://twitter.com/janesmith_dev',\n        'https://github.com/janesmith',\n        'https://linkedin.com/in/janesmith',\n      ],\n      alumniOf: { '@type': 'EducationalOrganization', name: 'Stanford University' },\n      knowsAbout: ['Python', 'Django', 'Wagtail CMS', 'Cloud Architecture'],\n      award: ['Best Developer 2024', 'Google Developer Expert'],\n    },\n    exampleJa: {\n      jobTitle: 'シニアエンジニア',\n      worksFor: { '@type': 'Organization', name: '株式会社サンプルテック' },\n      url: 'https://example.co.jp/team/tanaka-hanako',\n      sameAs: [\n        'https://twitter.com/tanaka_dev',\n        'https://github.com/tanaka-hanako',\n        'https://qiita.com/tanaka_hanako',\n      ],\n      alumniOf: { '@type': 'EducationalOrganization', name: '東京大学' },\n      knowsAbout: ['Python', 'Django', 'Wagtail CMS', 'クラウドアーキテクチャ'],\n      award: ['2024年度 社内MVP賞', 'OSS貢献賞'],\n    },\n    googleDocsUrl: 'https://schema.org/Person',\n  },\n\n  // ===================\n  // Specialized schemas\n  // ===================\n  Recipe: {\n    type: 'Recipe',\n    label: 'Recipe',\n    labelJa: 'レシピ',\n    category: 'specialized',\n    helpText:\n      'Recipe with ingredients and steps. Shows rich results with image.',\n    helpTextJa: '材料・手順付きレシピ。画像付きリッチリザルトに表示。',\n    autoFields: [\n      {\n        schemaProperty: 'name',\n        source: 'page.title',\n        description: 'Recipe name',\n      },\n      {\n        schemaProperty: 'description',\n        source: 'page.search_description',\n        description: 'Description',\n      },\n      {\n        schemaProperty: 'image',\n        source: 'page.og_image',\n        description: 'Recipe image',\n      },\n      {\n        schemaProperty: 'author',\n        source: 'page.owner',\n        description: 'Recipe author',\n      },\n      {\n        schemaProperty: 'datePublished',\n        source: 'page.first_published_at',\n        description: 'Publish date',\n      },\n    ],\n    requiredFields: [\n      {\n        name: 'recipeIngredient',\n        type: 'array',\n        description: 'List of ingredients',\n      },\n      {\n        name: 'recipeInstructions',\n        type: 'array',\n        description: 'Cooking steps',\n      },\n    ],\n    optionalFields: [\n      { name: 'prepTime', type: 'string', description: 'ISO 8601 duration' },\n      { name: 'cookTime', type: 'string', description: 'ISO 8601 duration' },\n      { name: 'totalTime', type: 'string', description: 'ISO 8601 duration' },\n      {\n        name: 'recipeYield',\n        type: 'string',\n        description: 'Number of servings',\n      },\n      {\n        name: 'recipeCategory',\n        type: 'string',\n        description: 'Meal type (e.g., Dinner)',\n      },\n      {\n        name: 'recipeCuisine',\n        type: 'string',\n        description: 'Cuisine type (e.g., Japanese)',\n      },\n      {\n        name: 'nutrition',\n        type: 'object',\n        description: 'NutritionInformation',\n      },\n    ],\n    placeholder: {\n      recipeIngredient: ['', '', ''],\n      recipeInstructions: [\n        { '@type': 'HowToStep', text: '' },\n        { '@type': 'HowToStep', text: '' },\n      ],\n      prepTime: '',\n      cookTime: '',\n      totalTime: '',\n      recipeYield: '',\n      recipeCategory: '',\n      recipeCuisine: '',\n      keywords: '',\n      nutrition: {\n        '@type': 'NutritionInformation',\n        calories: '',\n      },\n      video: {\n        '@type': 'VideoObject',\n        name: '',\n        description: '',\n        thumbnailUrl: '',\n        contentUrl: '',\n        uploadDate: '',\n      },\n    },\n    example: {\n      recipeIngredient: ['2 cups flour', '1 cup sugar', '2 eggs'],\n      recipeInstructions: [\n        { '@type': 'HowToStep', text: 'Mix dry ingredients' },\n        { '@type': 'HowToStep', text: 'Add wet ingredients' },\n        { '@type': 'HowToStep', text: 'Bake at 350°F for 30 minutes' },\n      ],\n      prepTime: 'PT15M',\n      cookTime: 'PT30M',\n      totalTime: 'PT45M',\n      recipeYield: '8 servings',\n      recipeCategory: 'Dessert',\n      recipeCuisine: 'American',\n      keywords: 'cake, easy baking, dessert',\n      nutrition: {\n        '@type': 'NutritionInformation',\n        calories: '280 kcal',\n      },\n      video: {\n        '@type': 'VideoObject',\n        name: 'How to Make Easy Cake',\n        description: 'Step by step video tutorial',\n        thumbnailUrl: 'https://example.com/cake-video-thumb.jpg',\n        contentUrl: 'https://example.com/cake-video.mp4',\n        uploadDate: '2025-01-15T08:00:00+09:00',\n      },\n    },\n    exampleJa: {\n      recipeIngredient: [\n        '豚バラ肉 300g',\n        '大根 1/2本',\n        'こんにゃく 1枚',\n        '醤油 大さじ3',\n        'みりん 大さじ2',\n        '砂糖 大さじ1',\n        'だし汁 400ml',\n      ],\n      recipeInstructions: [\n        { '@type': 'HowToStep', text: '豚バラ肉は3cm幅に切り、大根は2cm厚さのいちょう切りにする。' },\n        { '@type': 'HowToStep', text: 'こんにゃくは手でちぎり、下茹でする。' },\n        { '@type': 'HowToStep', text: '鍋に豚肉を入れて炒め、色が変わったら大根とこんにゃくを加える。' },\n        { '@type': 'HowToStep', text: 'だし汁と調味料を加え、落し蓋をして弱火で40分煮込む。' },\n      ],\n      prepTime: 'PT20M',\n      cookTime: 'PT40M',\n      totalTime: 'PT60M',\n      recipeYield: '4人分',\n      recipeCategory: '主菜',\n      recipeCuisine: '和食',\n      keywords: '豚の角煮, 和食, 煮物, 家庭料理',\n      nutrition: {\n        '@type': 'NutritionInformation',\n        calories: '450 kcal',\n      },\n      video: {\n        '@type': 'VideoObject',\n        name: '豚の角煮の作り方',\n        description: 'プロが教える本格豚の角煮レシピ',\n        thumbnailUrl: 'https://example.co.jp/recipes/kakuni-thumb.jpg',\n        contentUrl: 'https://example.co.jp/recipes/kakuni-video.mp4',\n        uploadDate: '2025-01-15T08:00:00+09:00',\n      },\n    },\n    googleDocsUrl:\n      'https://developers.google.com/search/docs/appearance/structured-data/recipe',\n  },\n\n  Course: {\n    type: 'Course',\n    label: 'Course',\n    labelJa: 'コース',\n    category: 'specialized',\n    helpText: 'Educational course. Shows in Google course listings.',\n    helpTextJa: '教育コース。Googleコース一覧に表示。',\n    autoFields: [\n      {\n        schemaProperty: 'name',\n        source: 'page.title',\n        description: 'Course name',\n      },\n      {\n        schemaProperty: 'description',\n        source: 'page.search_description',\n        description: 'Description',\n      },\n      {\n        schemaProperty: 'provider',\n        source: 'settings.organization',\n        description: 'Provider',\n      },\n    ],\n    requiredFields: [],\n    optionalFields: [\n      { name: 'courseCode', type: 'string', description: 'Course code/ID' },\n      {\n        name: 'hasCourseInstance',\n        type: 'array',\n        description: 'Course instances with dates',\n      },\n      {\n        name: 'educationalLevel',\n        type: 'string',\n        description: 'Difficulty level',\n      },\n      { name: 'offers', type: 'object', description: 'Pricing information' },\n      {\n        name: 'totalHistoricalEnrollment',\n        type: 'number',\n        description: 'Total enrollments',\n      },\n    ],\n    placeholder: {\n      hasCourseInstance: [\n        {\n          '@type': 'CourseInstance',\n          courseMode: '',\n          startDate: '',\n          endDate: '',\n        },\n      ],\n      offers: {\n        '@type': 'Offer',\n        price: '',\n        priceCurrency: 'USD',\n      },\n    },\n    example: {\n      courseCode: 'CS101',\n      educationalLevel: 'Beginner',\n      hasCourseInstance: [\n        {\n          '@type': 'CourseInstance',\n          courseMode: 'Online',\n          startDate: '2025-04-01',\n        },\n      ],\n    },\n    exampleJa: {\n      courseCode: 'WEB-001',\n      educationalLevel: '初級',\n      hasCourseInstance: [\n        {\n          '@type': 'CourseInstance',\n          courseMode: 'オンライン',\n          startDate: '2025-04-01',\n          endDate: '2025-06-30',\n        },\n      ],\n      offers: {\n        '@type': 'Offer',\n        price: '29800',\n        priceCurrency: 'JPY',\n      },\n      totalHistoricalEnrollment: 1500,\n    },\n    googleDocsUrl:\n      'https://developers.google.com/search/docs/appearance/structured-data/course',\n  },\n\n  JobPosting: {\n    type: 'JobPosting',\n    label: 'Job Posting',\n    labelJa: '求人情報',\n    category: 'specialized',\n    helpText: 'Job listing. Shows in Google Jobs search.',\n    helpTextJa: '求人情報。Google求人検索に表示。',\n    autoFields: [\n      {\n        schemaProperty: 'title',\n        source: 'page.title',\n        description: 'Job title',\n      },\n      {\n        schemaProperty: 'description',\n        source: 'page.search_description',\n        description: 'Job description',\n      },\n      {\n        schemaProperty: 'datePosted',\n        source: 'page.first_published_at',\n        description: 'Post date',\n      },\n      {\n        schemaProperty: 'hiringOrganization',\n        source: 'settings.organization',\n        description: 'Employer',\n      },\n    ],\n    requiredFields: [\n      {\n        name: 'jobLocation',\n        type: 'object',\n        description: 'Place with address',\n      },\n    ],\n    optionalFields: [\n      {\n        name: 'validThrough',\n        type: 'datetime',\n        description: 'Application deadline',\n      },\n      {\n        name: 'employmentType',\n        type: 'string',\n        description: 'FULL_TIME, PART_TIME, etc.',\n      },\n      { name: 'baseSalary', type: 'object', description: 'MonetaryAmount' },\n      {\n        name: 'jobLocationType',\n        type: 'string',\n        description: 'TELECOMMUTE for remote',\n      },\n      {\n        name: 'applicantLocationRequirements',\n        type: 'object',\n        description: 'Location requirements',\n      },\n    ],\n    placeholder: {\n      jobLocation: {\n        '@type': 'Place',\n        address: {\n          '@type': 'PostalAddress',\n          streetAddress: '',\n          addressLocality: '',\n          addressRegion: '',\n          postalCode: '',\n          addressCountry: 'US',\n        },\n      },\n      employmentType: '',\n      validThrough: '',\n      baseSalary: {\n        '@type': 'MonetaryAmount',\n        currency: 'USD',\n        value: {\n          '@type': 'QuantitativeValue',\n          minValue: '',\n          maxValue: '',\n          unitText: 'YEAR',\n        },\n      },\n      jobLocationType: '',\n      directApply: true,\n    },\n    example: {\n      jobLocation: {\n        '@type': 'Place',\n        address: {\n          '@type': 'PostalAddress',\n          streetAddress: '100 Main Street',\n          addressLocality: 'San Francisco',\n          addressRegion: 'CA',\n          postalCode: '94102',\n          addressCountry: 'US',\n        },\n      },\n      employmentType: 'FULL_TIME',\n      baseSalary: {\n        '@type': 'MonetaryAmount',\n        currency: 'USD',\n        value: {\n          '@type': 'QuantitativeValue',\n          minValue: 120000,\n          maxValue: 180000,\n          unitText: 'YEAR',\n        },\n      },\n      validThrough: '2025-06-30T23:59:59-08:00',\n    },\n    exampleJa: {\n      jobLocation: {\n        '@type': 'Place',\n        address: {\n          '@type': 'PostalAddress',\n          streetAddress: '渋谷2-21-1 渋谷ヒカリエ',\n          addressLocality: '渋谷区',\n          addressRegion: '東京都',\n          postalCode: '150-8510',\n          addressCountry: 'JP',\n        },\n      },\n      employmentType: 'FULL_TIME',\n      baseSalary: {\n        '@type': 'MonetaryAmount',\n        currency: 'JPY',\n        value: {\n          '@type': 'QuantitativeValue',\n          minValue: 4500000,\n          maxValue: 7000000,\n          unitText: 'YEAR',\n        },\n      },\n      validThrough: '2025-03-31T23:59:59+09:00',\n      jobLocationType: 'TELECOMMUTE',\n      applicantLocationRequirements: {\n        '@type': 'Country',\n        name: 'Japan',\n      },\n    },\n    googleDocsUrl:\n      'https://developers.google.com/search/docs/appearance/structured-data/job-posting',\n  },\n}\n\n/**\n * Get templates grouped by category\n */\nexport function getTemplatesByCategory(): Record<string, SchemaTemplate[]> {\n  const categories: Record<string, SchemaTemplate[]> = {}\n\n  for (const template of Object.values(SCHEMA_TEMPLATES)) {\n    if (!categories[template.category]) {\n      categories[template.category] = []\n    }\n    categories[template.category].push(template)\n  }\n\n  return categories\n}\n\n/**\n * Get a single template by type\n */\nexport function getTemplate(type: string): SchemaTemplate | undefined {\n  return SCHEMA_TEMPLATES[type]\n}\n\n/**\n * Get all template types\n */\nexport function getAllTypes(): string[] {\n  return Object.keys(SCHEMA_TEMPLATES)\n}\n\n/**\n * Get templates that are default on (site-wide)\n */\nexport function getDefaultOnTemplates(): SchemaTemplate[] {\n  return Object.values(SCHEMA_TEMPLATES).filter((t) => t.defaultOn === true)\n}\n","/**\n * Schema Widget - Core implementation\n *\n * A widget for selecting Schema.org types and configuring their properties.\n */\n\nimport {\n  SCHEMA_TEMPLATES,\n  type SchemaTemplate,\n  getTemplatesByCategory,\n  getDefaultOnTemplates,\n} from './schema-templates'\n\n/**\n * Widget state containing selected types and their properties\n */\nexport interface SchemaWidgetState {\n  types: string[]\n  properties: Record<string, Record<string, unknown>>\n}\n\n/**\n * Widget instance with state management methods\n */\nexport interface SchemaWidgetInstance {\n  getState(): SchemaWidgetState\n  setState(state: SchemaWidgetState): void\n  destroy(): void\n}\n\n/**\n * Category display configuration\n */\nconst CATEGORY_LABELS: Record<string, { en: string; ja: string }> = {\n  'site-wide': { en: 'Site-wide', ja: 'サイト全体' },\n  content: { en: 'Content', ja: 'コンテンツ' },\n  business: { en: 'Business', ja: 'ビジネス' },\n  interactive: { en: 'Interactive', ja: 'インタラクティブ' },\n  events: { en: 'Events', ja: 'イベント' },\n  people: { en: 'People', ja: '人物' },\n  specialized: { en: 'Specialized', ja: '特殊' },\n}\n\n/**\n * Category display order\n */\nconst CATEGORY_ORDER = [\n  'site-wide',\n  'content',\n  'business',\n  'interactive',\n  'events',\n  'people',\n  'specialized',\n]\n\n/**\n * Detect if the current locale is Japanese\n */\nfunction isJapaneseLocale(): boolean {\n  if (typeof document === 'undefined') return false\n  const htmlLang = document.documentElement.lang\n  return htmlLang?.startsWith('ja') ?? false\n}\n\n/**\n * Create default state with default-on types selected\n */\nfunction createDefaultState(): SchemaWidgetState {\n  const state: SchemaWidgetState = { types: [], properties: {} }\n  const defaultOnTemplates = getDefaultOnTemplates()\n  for (const template of defaultOnTemplates) {\n    state.types.push(template.type)\n    state.properties[template.type] = { ...template.placeholder }\n  }\n  return state\n}\n\n/**\n * Initialize the Schema Widget on a container element\n */\nexport function initSchemaWidget(\n  container: HTMLElement,\n  initialState?: SchemaWidgetState,\n): SchemaWidgetInstance {\n  // Add default-on types only when no initial state is provided\n  const state: SchemaWidgetState = initialState\n    ? { types: [...initialState.types], properties: { ...initialState.properties } }\n    : createDefaultState()\n\n  const isJa = isJapaneseLocale()\n\n  // Initial render\n  render(container, state, isJa)\n\n  return {\n    getState: () => ({\n      types: [...state.types],\n      properties: JSON.parse(JSON.stringify(state.properties)),\n    }),\n    setState: (newState) => {\n      state.types = [...newState.types]\n      state.properties = JSON.parse(JSON.stringify(newState.properties))\n      render(container, state, isJa)\n    },\n    destroy: () => {\n      container.innerHTML = ''\n    },\n  }\n}\n\n/**\n * Render the widget UI\n */\nfunction render(\n  container: HTMLElement,\n  state: SchemaWidgetState,\n  isJa: boolean,\n): void {\n  container.innerHTML = `\n    <div class=\"schema-widget\">\n      <div class=\"schema-widget__types\">\n        ${renderTypeCheckboxes(state.types, isJa)}\n      </div>\n      <div class=\"schema-widget__properties\">\n        ${renderPropertyEditors(state, isJa)}\n      </div>\n    </div>\n  `\n\n  attachEventListeners(container, state, isJa)\n}\n\n/**\n * Render checkboxes grouped by category\n */\nfunction renderTypeCheckboxes(selectedTypes: string[], isJa: boolean): string {\n  const categories = getTemplatesByCategory()\n\n  return CATEGORY_ORDER.map((category) => {\n    const templates = categories[category]\n    if (!templates || templates.length === 0) return ''\n\n    const categoryLabel = CATEGORY_LABELS[category]\n    const displayLabel = isJa ? categoryLabel.ja : categoryLabel.en\n\n    return `\n      <fieldset class=\"schema-widget__category\">\n        <legend>${escapeHtml(displayLabel)}</legend>\n        <div class=\"schema-widget__category-types\">\n          ${templates\n            .map((t) => {\n              const label = isJa ? t.labelJa : t.label\n              const isChecked = selectedTypes.includes(t.type)\n              const isDefaultOn = t.defaultOn === true\n\n              return `\n              <label class=\"schema-widget__type${isDefaultOn ? ' schema-widget__type--default' : ''}\">\n                <input type=\"checkbox\"\n                       name=\"schema_type\"\n                       value=\"${escapeHtml(t.type)}\"\n                       ${isChecked ? 'checked' : ''}>\n                <span class=\"schema-widget__type-label\">${escapeHtml(label)}</span>\n                ${isDefaultOn ? '<span class=\"schema-widget__type-badge\">Auto</span>' : ''}\n              </label>\n            `\n            })\n            .join('')}\n        </div>\n      </fieldset>\n    `\n  }).join('')\n}\n\n/**\n * Schema types that are fully auto-generated (no JSON editor needed)\n */\nconst AUTO_GENERATED_TYPES = ['WebSite', 'Organization', 'BreadcrumbList', 'WebPage']\n\n/**\n * Render property editors for selected types\n */\nfunction renderPropertyEditors(\n  state: SchemaWidgetState,\n  isJa: boolean,\n): string {\n  if (state.types.length === 0) {\n    const emptyMessage = isJa\n      ? 'スキーマタイプを選択してプロパティを設定してください'\n      : 'Select schema types above to configure properties'\n\n    return `<div class=\"schema-widget__empty\">${escapeHtml(emptyMessage)}</div>`\n  }\n\n  return state.types\n    .map((type) => {\n      const template = SCHEMA_TEMPLATES[type]\n      if (!template) return ''\n\n      // Use placeholder if properties is empty or doesn't exist\n      const savedProps = state.properties[type]\n      const properties = (savedProps && Object.keys(savedProps).length > 0)\n        ? savedProps\n        : template.placeholder\n      const label = isJa ? template.labelJa : template.label\n      const helpText = isJa ? template.helpTextJa : template.helpText\n      const isAutoGenerated = AUTO_GENERATED_TYPES.includes(type)\n\n      const autoFieldsLabel = isJa ? '自動入力' : 'Auto-filled'\n      const exampleLabel = isJa ? '例' : 'Example'\n      const requiredLabel = isJa ? '必須項目' : 'Required'\n      const optionalLabel = isJa ? 'オプション' : 'Optional'\n\n      const autoFieldsList =\n        template.autoFields.length > 0\n          ? template.autoFields.map((f) => f.schemaProperty).join(', ')\n          : isJa\n            ? 'なし'\n            : 'None'\n\n      // Auto-generated types don't need JSON editor\n      if (isAutoGenerated) {\n        const fullyAutoMessage = isJa\n          ? '※ このスキーマは完全自動生成されます。カスタマイズは不要です。'\n          : '※ This schema is fully auto-generated. No customization needed.'\n\n        return `\n        <details class=\"schema-widget__editor\">\n          <summary class=\"schema-widget__editor-header\">\n            <span class=\"schema-widget__editor-title\">${escapeHtml(label)}</span>\n            <a href=\"${escapeHtml(template.googleDocsUrl)}\"\n               target=\"_blank\"\n               rel=\"noopener noreferrer\"\n               class=\"schema-widget__docs-link\"\n               title=\"View documentation\">?</a>\n          </summary>\n          <div class=\"schema-widget__editor-content\">\n            <div class=\"schema-widget__help\">${escapeHtml(helpText)}</div>\n            <div class=\"schema-widget__auto-fields\">\n              <strong>${escapeHtml(autoFieldsLabel)}:</strong> ${escapeHtml(autoFieldsList)}\n            </div>\n            <div class=\"schema-widget__fully-auto\">${escapeHtml(fullyAutoMessage)}</div>\n          </div>\n        </details>\n      `\n      }\n\n      return `\n      <details class=\"schema-widget__editor\" open>\n        <summary class=\"schema-widget__editor-header\">\n          <span class=\"schema-widget__editor-title\">${escapeHtml(label)}</span>\n          <a href=\"${escapeHtml(template.googleDocsUrl)}\"\n             target=\"_blank\"\n             rel=\"noopener noreferrer\"\n             class=\"schema-widget__docs-link\"\n             title=\"View documentation\">?</a>\n        </summary>\n        <div class=\"schema-widget__editor-content\">\n          <div class=\"schema-widget__help\">${escapeHtml(helpText)}</div>\n\n          <div class=\"schema-widget__auto-fields\">\n            <strong>${escapeHtml(autoFieldsLabel)}:</strong> ${escapeHtml(autoFieldsList)}\n          </div>\n\n          ${renderFieldInfo(template, requiredLabel, optionalLabel)}\n\n          <div class=\"schema-widget__json-container\">\n            <label class=\"schema-widget__json-label\">\n              ${isJa ? 'カスタムプロパティ (JSON)' : 'Custom Properties (JSON)'}\n            </label>\n            <textarea\n              class=\"schema-widget__json\"\n              data-schema-type=\"${escapeHtml(type)}\"\n              rows=\"6\"\n              spellcheck=\"false\"\n            >${escapeHtml(JSON.stringify(properties, null, 2))}</textarea>\n          </div>\n\n          ${\n            (() => {\n              const example = isJa && Object.keys(template.exampleJa).length > 0 ? template.exampleJa : template.example\n              return Object.keys(example).length > 0\n                ? `\n            <details class=\"schema-widget__example\">\n              <summary class=\"schema-widget__example-header\">${escapeHtml(exampleLabel)}</summary>\n              <code>${escapeHtml(JSON.stringify(example, null, 2))}</code>\n            </details>\n          `\n                : ''\n            })()\n          }\n        </div>\n      </details>\n    `\n    })\n    .join('')\n}\n\n/**\n * Render required and optional field information\n */\nfunction renderFieldInfo(\n  template: SchemaTemplate,\n  requiredLabel: string,\n  optionalLabel: string,\n): string {\n  const parts: string[] = []\n\n  if (template.requiredFields.length > 0) {\n    const fields = template.requiredFields\n      .map((f) => `${f.name} (${f.type})`)\n      .join(', ')\n    parts.push(`\n      <div class=\"schema-widget__fields schema-widget__fields--required\">\n        <strong>${escapeHtml(requiredLabel)}:</strong> ${escapeHtml(fields)}\n      </div>\n    `)\n  }\n\n  if (template.optionalFields.length > 0) {\n    const fields = template.optionalFields\n      .map((f) => `${f.name} (${f.type})`)\n      .join(', ')\n    parts.push(`\n      <div class=\"schema-widget__fields schema-widget__fields--optional\">\n        <strong>${escapeHtml(optionalLabel)}:</strong> ${escapeHtml(fields)}\n      </div>\n    `)\n  }\n\n  return parts.join('')\n}\n\n/**\n * Attach event listeners to the widget\n */\nfunction attachEventListeners(\n  container: HTMLElement,\n  state: SchemaWidgetState,\n  isJa: boolean,\n): void {\n  // Handle checkbox changes\n  const checkboxes = container.querySelectorAll<HTMLInputElement>(\n    'input[name=\"schema_type\"]',\n  )\n  for (const checkbox of checkboxes) {\n    checkbox.addEventListener('change', () => {\n      handleCheckboxChange(container, state, checkbox, isJa)\n    })\n  }\n\n  // Handle JSON textarea changes (input for real-time sync, blur as fallback)\n  const textareas = container.querySelectorAll<HTMLTextAreaElement>(\n    '.schema-widget__json',\n  )\n  for (const textarea of textareas) {\n    textarea.addEventListener('input', () => {\n      handleJsonChange(state, textarea)\n    })\n  }\n}\n\n/**\n * Handle checkbox state changes\n */\nfunction handleCheckboxChange(\n  container: HTMLElement,\n  state: SchemaWidgetState,\n  checkbox: HTMLInputElement,\n  isJa: boolean,\n): void {\n  const type = checkbox.value\n\n  if (checkbox.checked) {\n    if (!state.types.includes(type)) {\n      state.types.push(type)\n      // Initialize with placeholder if no properties exist\n      if (!state.properties[type]) {\n        const template = SCHEMA_TEMPLATES[type]\n        if (template) {\n          state.properties[type] = { ...template.placeholder }\n        }\n      }\n    }\n  } else {\n    const index = state.types.indexOf(type)\n    if (index > -1) {\n      state.types.splice(index, 1)\n    }\n    // Keep properties in case user re-enables\n  }\n\n  // Re-render only the properties section\n  const propertiesContainer = container.querySelector(\n    '.schema-widget__properties',\n  )\n  if (propertiesContainer) {\n    propertiesContainer.innerHTML = renderPropertyEditors(state, isJa)\n    // Re-attach JSON textarea listeners\n    const textareas = propertiesContainer.querySelectorAll<HTMLTextAreaElement>(\n      '.schema-widget__json',\n    )\n    for (const textarea of textareas) {\n      textarea.addEventListener('input', () => {\n        handleJsonChange(state, textarea)\n      })\n    }\n  }\n}\n\n/**\n * Handle JSON textarea changes\n */\nfunction handleJsonChange(\n  state: SchemaWidgetState,\n  textarea: HTMLTextAreaElement,\n): void {\n  const type = textarea.dataset.schemaType\n  if (!type) return\n\n  try {\n    const parsed = JSON.parse(textarea.value) as Record<string, unknown>\n    state.properties[type] = parsed\n    textarea.classList.remove('schema-widget__json--error')\n  } catch {\n    textarea.classList.add('schema-widget__json--error')\n  }\n}\n\n/**\n * Escape HTML special characters\n */\nfunction escapeHtml(str: string): string {\n  const htmlEscapes: Record<string, string> = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;',\n  }\n  return str.replace(/[&<>\"']/g, (char) => htmlEscapes[char])\n}\n","/**\n * Wagtail Telepath adapter for SchemaWidget\n *\n * This module provides StreamField integration for the schema widget,\n * allowing widgets to be dynamically created when blocks are added.\n */\n\nimport {\n  type SchemaWidgetInstance,\n  type SchemaWidgetState,\n  initSchemaWidget,\n} from './widget'\n\n/**\n * Bound widget instance returned by render()\n * Implements Wagtail's BoundWidget interface\n */\nclass BoundSchemaWidget {\n  private container: HTMLElement\n  private hiddenInput: HTMLInputElement\n  private widget: SchemaWidgetInstance | null = null\n\n  constructor(\n    container: HTMLElement,\n    hiddenInput: HTMLInputElement,\n    initialState: SchemaWidgetState,\n  ) {\n    this.container = container\n    this.hiddenInput = hiddenInput\n\n    try {\n      // Mark container as initialized to prevent autoInit from resetting it\n      container.dataset.schemaWidgetInitialized = 'true'\n\n      this.widget = initSchemaWidget(container, initialState)\n      this.setupSync()\n      this.syncToHiddenInput()\n    } catch (error) {\n      console.error('WagtailHerald: Failed to initialize schema widget', error)\n    }\n  }\n\n  /**\n   * Set up event listeners to sync widget state to hidden input\n   */\n  private setupSync(): void {\n    // Sync on any checkbox change\n    this.container.addEventListener('change', (e) => {\n      const target = e.target as HTMLElement\n      if (target.tagName === 'INPUT') {\n        this.syncToHiddenInput()\n      }\n    })\n\n    // Sync on textarea input for real-time updates\n    // Note: widget.ts handles JSON parsing on input, so state is always up-to-date\n    this.container.addEventListener('input', (e) => {\n      const target = e.target as HTMLElement\n      if (target.tagName === 'TEXTAREA') {\n        this.syncToHiddenInput()\n      }\n    })\n\n    // Sync before form submission to ensure latest state is saved\n    const form = this.hiddenInput.closest('form')\n    if (form) {\n      form.addEventListener('submit', () => {\n        this.syncToHiddenInput()\n      })\n    }\n  }\n\n  /**\n   * Sync widget state to hidden input for form submission\n   */\n  private syncToHiddenInput(): void {\n    const state = this.widget?.getState()\n    if (state) {\n      this.hiddenInput.value = JSON.stringify(state)\n    }\n  }\n\n  /**\n   * Get the HTML ID for label association\n   */\n  get idForLabel(): string | null {\n    return this.hiddenInput.id || null\n  }\n\n  /**\n   * Get the current value for form submission\n   */\n  getValue(): string {\n    return this.hiddenInput.value\n  }\n\n  /**\n   * Get the current state for re-initialization\n   */\n  getState(): SchemaWidgetState {\n    return this.widget?.getState() ?? { types: [], properties: {} }\n  }\n\n  /**\n   * Set a new state value\n   */\n  setState(newState: SchemaWidgetState): void {\n    this.widget?.setState(newState)\n    this.syncToHiddenInput()\n  }\n\n  /**\n   * Focus the first input in the widget\n   */\n  focus(): void {\n    const firstInput = this.container.querySelector('input')\n    if (firstInput) {\n      firstInput.focus()\n    }\n  }\n}\n\n/**\n * Widget definition for Wagtail Telepath\n * Creates and manages SchemaWidget instances\n */\nclass SchemaWidgetDefinition {\n  private html: string\n\n  constructor(html: string) {\n    this.html = html\n  }\n\n  /**\n   * Render the widget into the page\n   */\n  render(\n    placeholder: HTMLElement,\n    name: string,\n    id: string,\n    initialState: SchemaWidgetState | string,\n  ): BoundSchemaWidget {\n    // Replace placeholders in the HTML template\n    const renderedHtml = this.html\n      .replace(/__NAME__/g, name)\n      .replace(/__ID__/g, id)\n\n    // Insert the HTML\n    placeholder.outerHTML = renderedHtml\n\n    // Find elements\n    const container = document.getElementById(`${id}-container`)\n    const hiddenInput = document.getElementById(id) as HTMLInputElement\n\n    if (!container || !hiddenInput) {\n      throw new Error(`WagtailHerald: Elements not found for id \"${id}\"`)\n    }\n\n    // Parse initial state if string\n    let state: SchemaWidgetState\n    if (typeof initialState === 'string') {\n      try {\n        state = JSON.parse(initialState || '{\"types\":[],\"properties\":{}}')\n      } catch {\n        state = { types: [], properties: {} }\n      }\n    } else {\n      state = initialState ?? { types: [], properties: {} }\n    }\n\n    // Return bound widget\n    return new BoundSchemaWidget(container, hiddenInput, state)\n  }\n}\n\n// Register with Wagtail Telepath when available\ndeclare global {\n  interface Window {\n    telepath?: {\n      register: (name: string, cls: unknown) => void\n    }\n  }\n}\n\nif (typeof window !== 'undefined' && window.telepath) {\n  window.telepath.register(\n    'wagtail_herald.widgets.SchemaWidget',\n    SchemaWidgetDefinition,\n  )\n}\n\nexport { SchemaWidgetDefinition, BoundSchemaWidget }\n","/**\n * wagtail-herald Schema Widget\n *\n * A TypeScript-powered widget for managing Schema.org structured data\n * in Wagtail CMS pages.\n */\n\nimport './styles.css'\nimport {\n  type SchemaWidgetInstance,\n  type SchemaWidgetState,\n  initSchemaWidget,\n} from './widget'\n\nexport const VERSION = '0.2.0'\n\nexport { initSchemaWidget }\nexport type { SchemaWidgetInstance, SchemaWidgetState }\n\n// Re-export schema templates for external use\nexport {\n  SCHEMA_TEMPLATES,\n  getTemplate,\n  getTemplatesByCategory,\n  getAllTypes,\n  getDefaultOnTemplates,\n  type SchemaTemplate,\n  type AutoField,\n  type FieldDef,\n} from './schema-templates'\n\n/**\n * Public API exposed to window for IIFE builds\n */\nexport const WagtailHeraldSchema = {\n  VERSION,\n  initSchemaWidget,\n}\n\n// Expose to window for IIFE usage\nif (typeof window !== 'undefined') {\n  ;(\n    window as unknown as { WagtailHeraldSchema: typeof WagtailHeraldSchema }\n  ).WagtailHeraldSchema = WagtailHeraldSchema\n}\n\n/**\n * Auto-initialize all schema widgets in the document\n * @internal Exported for testing purposes\n */\nexport function autoInit(): void {\n  const elements = document.querySelectorAll<HTMLElement>(\n    '[data-schema-widget]',\n  )\n  for (const el of elements) {\n    // Skip if already initialized\n    if (el.dataset.schemaWidgetInitialized) continue\n    el.dataset.schemaWidgetInitialized = 'true'\n\n    // Read initial state from data attribute if available\n    let initialState: SchemaWidgetState | undefined\n    const initialStateJson = el.dataset.initialState\n    if (initialStateJson) {\n      try {\n        initialState = JSON.parse(initialStateJson)\n      } catch {\n        // Invalid JSON, use default state\n      }\n    }\n\n    const widget = initSchemaWidget(el, initialState)\n\n    // Find the associated hidden input and set up sync\n    // The hidden input should be a sibling with matching ID (container ID minus '-container')\n    const containerId = el.id\n    if (containerId && containerId.endsWith('-container')) {\n      const hiddenInputId = containerId.replace(/-container$/, '')\n      const hiddenInput = document.getElementById(\n        hiddenInputId,\n      ) as HTMLInputElement | null\n      if (hiddenInput) {\n        // Sync initial state to hidden input\n        hiddenInput.value = JSON.stringify(widget.getState())\n\n        // Set up sync on changes\n        el.addEventListener('change', () => {\n          hiddenInput.value = JSON.stringify(widget.getState())\n        })\n\n        el.addEventListener('input', (e) => {\n          const target = e.target as HTMLElement\n          if (target.tagName === 'TEXTAREA') {\n            hiddenInput.value = JSON.stringify(widget.getState())\n          }\n        })\n\n        // Sync before form submission\n        const form = hiddenInput.closest('form')\n        if (form) {\n          form.addEventListener('submit', () => {\n            hiddenInput.value = JSON.stringify(widget.getState())\n          })\n        }\n      }\n    }\n  }\n}\n\n// Auto-init for non-Telepath usage (when DOM is ready)\nif (typeof document !== 'undefined') {\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', autoInit)\n  } else {\n    autoInit()\n  }\n}\n\n// Import telepath adapter to ensure it's registered\nimport './telepath'\n"],"names":["SCHEMA_TEMPLATES","WebSite","type","label","labelJa","category","defaultOn","helpText","helpTextJa","autoFields","schemaProperty","source","description","requiredFields","optionalFields","name","placeholder","url","example","potentialAction","target","exampleJa","googleDocsUrl","Organization","logo","sameAs","BreadcrumbList","itemListElement","WebPage","Article","articleSection","NewsArticle","dateline","BlogPosting","keywords","Product","offers","price","priceCurrency","availability","brand","sku","gtin","aggregateRating","ratingValue","reviewCount","review","LocalBusiness","address","streetAddress","addressLocality","addressRegion","postalCode","addressCountry","telephone","priceRange","openingHoursSpecification","geo","latitude","longitude","dayOfWeek","opens","closes","Service","serviceType","areaServed","hoursAvailable","FAQPage","mainEntity","acceptedAnswer","text","HowTo","step","totalTime","estimatedCost","currency","value","supply","tool","Event","startDate","endDate","location","eventStatus","eventAttendanceMode","performer","organizer","validFrom","Person","jobTitle","worksFor","email","alumniOf","knowsAbout","award","Recipe","recipeIngredient","recipeInstructions","prepTime","cookTime","recipeYield","recipeCategory","recipeCuisine","nutrition","calories","video","thumbnailUrl","contentUrl","uploadDate","Course","hasCourseInstance","courseMode","courseCode","educationalLevel","totalHistoricalEnrollment","JobPosting","jobLocation","employmentType","validThrough","baseSalary","minValue","maxValue","unitText","jobLocationType","directApply","applicantLocationRequirements","getTemplatesByCategory","categories","template","Object","values","push","getDefaultOnTemplates","filter","t","CATEGORY_LABELS","en","ja","content","business","interactive","events","people","specialized","CATEGORY_ORDER","initSchemaWidget","container","initialState","state","types","properties","defaultOnTemplates","createDefaultState","isJa","document","htmlLang","documentElement","lang","startsWith","isJapaneseLocale","render","getState","JSON","parse","stringify","setState","newState","destroy","innerHTML","selectedTypes","map","templates","length","categoryLabel","escapeHtml","isChecked","includes","isDefaultOn","join","renderTypeCheckboxes","renderPropertyEditors","checkboxes","querySelectorAll","checkbox","addEventListener","handleCheckboxChange","textareas","textarea","handleJsonChange","attachEventListeners","AUTO_GENERATED_TYPES","savedProps","keys","isAutoGenerated","autoFieldsLabel","exampleLabel","requiredLabel","optionalLabel","autoFieldsList","f","fullyAutoMessage","parts","fields","renderFieldInfo","checked","index","indexOf","splice","propertiesContainer","querySelector","dataset","schemaType","parsed","classList","remove","add","str","htmlEscapes","replace","char","BoundSchemaWidget","constructor","hiddenInput","__publicField","this","schemaWidgetInitialized","widget","setupSync","syncToHiddenInput","error","console","e","tagName","form","closest","_a","idForLabel","id","getValue","focus","firstInput","SchemaWidgetDefinition","html","renderedHtml","outerHTML","getElementById","Error","window","telepath","register","VERSION","WagtailHeraldSchema","autoInit","elements","el","initialStateJson","containerId","endsWith","hiddenInputId","readyState"],"mappings":"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"}